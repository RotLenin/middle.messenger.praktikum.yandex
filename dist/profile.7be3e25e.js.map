{"mappings":"SAIgBA,EAAWC,GACvBA,EAAMC,UAAUC,IAAI,kBCFxB,MAAMC,EAAOC,SAASC,cAAc,gBAC9BC,EAAaH,EAAKE,cAAc,6BAChCE,EAAQJ,EAAKE,cAAc,UAC3BG,EAAeD,EAAMF,cAAc,mBAEVC,EACTG,iBAAA,SAAX,KAAgCF,EDRjCN,UAAUS,OAAO,qBCS3BH,EAAME,iBAAiB,SAAO,IAAQV,EAAWQ,wBAE0E,SACrEI,GAAAA,EAAAC,oBAEvB,MAAAC,EACzBV,EAAQE,cAAA,eACRS,EAAQX,EAAKE,cAAc,yBAC3BU,EAAaZ,EAAKE,cAAc,6BAChCW,EAAYb,EAAKE,cAAc,eAC/BY,EAAcd,EAAKE,cAAc,oCA8BSQ,EAANJ,iBAAjB,yBC/CAS,EAAOC,EDyB5B,OCzB4BA,EDuBFL,GCtBP,MADEI,EDuBFL,GCtBVO,OACLD,EAAMlB,UAAUC,IAAI,6BACpBiB,EAAME,UAAYH,EAAME,MAAME,MAAM,MAAMC,MACnC,IAEXJ,EAAMlB,UAAUS,OAAO,6BACvBS,EAAME,UATJ,8BAUK,KDwBPN,EAAWM,UAAY,kBAChB,IAPHN,EAAWM,UAAY,gBAEAJ,EAAXI,UAAY,IACjB,MAmBiCL,EAAVP,iBAAjB,oBATd,KADoDI,EAAAO,SAInBb,GAEIU,EAAZI,UAzBN","sources":["src/components/modal/modal.js","src/handlers/profileImgHandler.js","src/components/customFileUploader/customFileUploader.js"],"sourcesContent":["export function showModal(modal){\n    modal.classList.remove('modal_not_show')\n}\n\nexport function closeModal(modal){\n    modal.classList.add('modal_not_show')\n}\n\nexport function toggle(modal){\n    modal.classList.toggle('modal_not_show')\n}","import {showModal, closeModal, toggle} from \"../components/modal/modal\";\nimport {onUpload} from \"../components/customFileUploader/customFileUploader\";\n\nconst root = document.querySelector('.profile-img');\nconst imgWrapper = root.querySelector('.profile-img__img-wrapper');\nconst modal = root.querySelector('.modal');\nconst modalWrapper = modal.querySelector('.modal__wrapper');\n\n/** Настройка логики модалки */\nimgWrapper.addEventListener('click', () => showModal(modal));\nmodal.addEventListener('click', () => closeModal(modal));\n/** Необходимо отключить всплытие,\n * чтобы модалка закрывалась только по клику на не рабочую область */\nmodalWrapper.addEventListener('click', (e) => e.stopPropagation());\n\n/** Настройка загрузки файла */\nconst input = root.querySelector('#profileImg');\nconst label = root.querySelector('label[for=profileImg]');\nconst modalTitle = root.querySelector('.profile-img-modal__title');\nconst actionBtn = root.querySelector('.accept-btn');\nconst actionError = root.querySelector('.profile-img-modal__action-error');\n\nconst ACTION_ERROR_TEXT = 'Нужно выбрать файл';\n\nfunction uploadFile(){\n    //** TODO: На текущий момент не понял как повторить Ошибку загрузки */\n    let res = onUpload(input, label);\n\n    if(res){\n        modalTitle.innerHTML = 'Файл загружен';\n        // Так же чистим ошибку кнопки\n        actionError.innerHTML = '';\n        return true;\n    }\n\n    modalTitle.innerHTML = 'Загрузите файл';\n    return true;\n}\n\nfunction saveFile(){\n    //Проверять будем по наличию пути в input\n    /** TODO: более качественная проверка была бы кстати */\n    if(input.value !== ''){\n        /*Тут какая то логика сохранения, пока работает со статикой\n            просто закроем модалку*/\n        closeModal(modal)\n    }\n    actionError.innerHTML = ACTION_ERROR_TEXT;\n}\n\ninput.addEventListener('change', uploadFile);\nactionBtn.addEventListener('click', saveFile);\n\n","/** Логика замены текста Label при загрузке файла */\nconst defaultText = 'Выберите файл на компьютере';\n\nexport function onUpload(input, label){\n    if(input.value !== ''){\n        label.classList.add('custom-file-uploader_done');\n        label.innerHTML = input.value.split('\\\\').pop();\n        return true;\n    }\n    label.classList.remove('custom-file-uploader_done');\n    label.innerHTML = defaultText;\n    return false;\n}"],"names":["$f94d09b8529c64e3$export$3f6fecd573f3fa48","modal","classList","add","$2ffc8917c091ad14$var$root","document","querySelector","$2ffc8917c091ad14$var$imgWrapper","$2ffc8917c091ad14$var$modal","$2ffc8917c091ad14$var$modalWrapper","addEventListener","remove","e","stopPropagation","$2ffc8917c091ad14$var$input","$2ffc8917c091ad14$var$label","$2ffc8917c091ad14$var$modalTitle","$2ffc8917c091ad14$var$actionBtn","$2ffc8917c091ad14$var$actionError","input","label","value","innerHTML","split","pop"],"version":3,"file":"profile.7be3e25e.js.map"}